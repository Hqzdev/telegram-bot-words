# Инструкции по настройке Telegram-бота

## Для контактного лица

### 1. Создание Telegram-бота

1. **Найдите @BotFather в Telegram**
   - Откройте Telegram
   - Найдите пользователя @BotFather
   - Нажмите "Start"

2. **Создайте нового бота**
   - Отправьте команду `/newbot`
   - Введите название бота (например: "Опрос землевладельцев")
   - Введите username бота (должен заканчиваться на 'bot', например: "land_survey_bot")
   - Сохраните полученный токен (выглядит как `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

3. **Настройте описание бота**
   - Отправьте команду `/setdescription`
   - Введите описание: "Опрос собственников земельных участков для планирования развития сельскохозяйственных территорий"
   
   - Отправьте команду `/setabouttext`
   - Введите информацию: "Бот для сбора информации о земельных участках и планах их развития"

### 2. Создание Google Sheets таблицы

1. **Создайте новую таблицу**
   - Откройте [Google Sheets](https://sheets.google.com)
   - Создайте новую таблицу
   - Назовите её "Опрос землевладельцев"

2. **Скопируйте ID таблицы**
   - В URL таблицы найдите часть между `/d/` и `/edit`
   - Например, в URL `https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit`
   - ID будет: `1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms`

### 3. Настройка Google Cloud Service Account

1. **Перейдите в Google Cloud Console**
   - Откройте [Google Cloud Console](https://console.cloud.google.com/)
   - Войдите в аккаунт Google

2. **Создайте новый проект**
   - Нажмите на выпадающий список проектов вверху
   - Нажмите "Новый проект"
   - Введите название (например: "Land Survey Bot")
   - Нажмите "Создать"

3. **Включите Google Sheets API**
   - В меню слева выберите "APIs & Services" > "Library"
   - Найдите "Google Sheets API"
   - Нажмите на него и нажмите "Enable"

4. **Создайте Service Account**
   - В меню слева выберите "APIs & Services" > "Credentials"
   - Нажмите "Create Credentials" > "Service Account"
   - Введите название (например: "land-survey-bot")
   - Нажмите "Create and Continue"
   - Пропустите опциональные шаги, нажимая "Continue"
   - Нажмите "Done"

5. **Скачайте ключ**
   - В списке Service Accounts нажмите на созданный аккаунт
   - Перейдите на вкладку "Keys"
   - Нажмите "Add Key" > "Create new key"
   - Выберите "JSON"
   - Нажмите "Create"
   - Файл автоматически скачается

6. **Предоставьте доступ к таблице**
   - Откройте скачанный JSON файл
   - Найдите поле `client_email` (выглядит как `something@project.iam.gserviceaccount.com`)
   - Откройте вашу Google Sheets таблицу
   - Нажмите "Share" (в правом верхнем углу)
   - Введите email из `client_email`
   - Дайте права "Editor"
   - Нажмите "Send"

### 4. Передача данных разработчику

Отправьте разработчику следующие данные:

1. **Telegram Bot Token** (получен от @BotFather)
2. **Google Sheets ID** (из URL таблицы)
3. **Файл credentials.json** (скачанный из Google Cloud Console)

### 5. Тестирование бота

После настройки разработчиком:

1. Найдите вашего бота по username
2. Отправьте команду `/start`
3. Пройдите тестовый опрос
4. Проверьте, что данные появились в Google Sheets

### 6. Возможные проблемы

**Бот не отвечает:**
- Проверьте, что токен правильный
- Убедитесь, что бот запущен разработчиком

**Данные не сохраняются в таблицу:**
- Проверьте, что Service Account имеет доступ к таблице
- Убедитесь, что Google Sheets ID правильный

**Ошибки в логах:**
- Свяжитесь с разработчиком для диагностики

### 7. Контакты для поддержки

При возникновении проблем обращайтесь к разработчику с указанием:
- Описания проблемы
- Скриншотов ошибок (если есть)
- Логов (если доступны)





